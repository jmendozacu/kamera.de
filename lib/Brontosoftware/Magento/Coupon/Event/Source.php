<?php
/**
 * This file was generated by the ConvertToLegacy class in bronto-legacy.
 * The purpose of the conversion was to maintain PSR-0 compliance while
 * the main development focuses on modern styles found in PSR-4.
 *
 * For the original:
 * @see src/Bronto/Magento/Coupon/Event/Source.php
 */

class Brontosoftware_Magento_Coupon_Event_Source implements Brontosoftware_Magento_Connector_Event_SourceInterface
{
    /**
     * @see parent
     */
    public function action($coupons)
    {
        try {
            return $coupons->getCampaignId() ? 'add' : '';
        } catch (Exception $e) {
            return '';
        }
    }

    /**
     * @see parent
     */
    public function getEventType()
    {
        return 'couponManager';
    }

    /**
     * @see parent
     */
    public function transform($coupons)
    {
        return array(
            'campaignId' => $coupons->getCampaignId(),
            'coupons' => $coupons->getCoupons()
        );
    }
}
